<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Worm</title>
  <style>
    body {
      background-color: #111;
      color: #f0f0f0;
      font-family: 'Georgia', serif;
      line-height: 1.6;
      padding: 2rem;
      max-width: 700px;
      margin: auto;
    }
    .scene {
      margin: 100vh 0;
    }
    .trigger-word {
      font-weight: bold;
      color: #e0e0e0;
      cursor: pointer;
    }
    #start-overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: #000;
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      z-index: 9999;
    }
  </style>
</head>
<body>

  <!-- Unlock overlay -->
  <div id="start-overlay">
    <button id="start-button">Enter the story</button>
  </div>

  <!-- Silent audio to unlock autoplay -->
  <audio id="unlock" src="data:audio/mp3;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAACcQCA... (short silent mp3)" preload="auto"></audio>

  <!-- Preload actual audio -->
  <audio id="click" src="https://mcdn.podbean.com/mf/download/acpep6bbqk9ciehp/Click.mp3" preload="auto"></audio>
  <audio id="footsteps" src="https://YOUR_AUDIO_URL/footsteps.mp3" preload="auto"></audio>
  <audio id="whisper" src="https://YOUR_AUDIO_URL/whisper.mp3" preload="auto"></audio>

  <!-- Story Scenes -->
  <div class="scene">
    <p>Outside, the wind stirred the trees. The porch light flickered once, then again. She paused at the door, staring up at the <span class="trigger-word" data-sound="click">window</span> above it.</p>
  </div>
  <div class="scene">
    <p>Inside, the house was quiet. Too quiet. The TV buzzed faintly in the background, casting shadows across the VHS tapes stacked beside it. She stepped into the kitchen. The rotary phone on the wall was still. Then she heard it—a <span class="trigger-word" data-sound="click">click</span>.</p>
  </div>
  <div class="scene">
    <p>Another <span class="trigger-word" data-sound="click">click</span>. Then <span class="trigger-word" data-sound="footsteps">footsteps</span> overhead.</p>
  </div>
  <div class="scene">
    <p>She looked up. The attic door was ajar.</p>
    <p>She whispered, “<span class="trigger-word" data-sound="whisper">I see you</span>.”</p>
  </div>

  <script>
    document.getElementById("start-button").addEventListener("click", () => {
      const unlock = document.getElementById("unlock");
      unlock.play().catch(() => {});
      document.getElementById("start-overlay").style.display = "none";

      const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const id = entry.target.dataset.sound;
            const audio = document.getElementById(id);
            if (audio) audio.play().catch(() => {});
            observer.unobserve(entry.target);
          }
        });
      }, { threshold: 0.5 });

      document.querySelectorAll('.trigger-word').forEach(el => {
        observer.observe(el);
        el.addEventListener("click", () => {
          const id = el.dataset.sound;
          const audio = document.getElementById(id);
          if (audio) audio.play().catch(() => {});
        });
      });
    });
  </script>

</body>
</html>
